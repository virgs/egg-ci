# Instructions:
1. Reason step by step. Think about the problem and how to solve it before writing the code and plan for the long term. Don't just write code without thinking about the problem and how to solve it. Always think about the problem and how to solve it before writing code. Consider even the next steps.
2. Write code that is clean, maintainable, and well-documented. Follow best practices and coding standards. Write code that is easy to understand and modify in the future. Write code that is modular and reusable. Write code that is efficient and performant. Write code that is secure and handles edge cases. Write code that is tested and has good coverage. Write code that is easy to debug and troubleshoot.
3. Always consider the user experience and how the user will interact with the extension.
4. Avoid big refactors. Instead, make small incremental changes that can be easily tested and rolled back if necessary. This will help to ensure that the extension remains stable and functional while new features are being added.
5. Always keep in mind the long-term vision for the extension and how new features will fit into that vision. Consider how new features will impact the overall user experience and how they will interact with
6. Avoid big classes, components and functions. Instead, break down the code into smaller, more manageable pieces that can be easily tested and maintained. This will help to improve the readability and maintainability of the codebase. Everytime you notice a class, component or function that is getting too big, break it down into smaller pieces. Consider the single responsibility principle and try to make sure that each class, component or function has a clear and focused responsibility. This will help to make the code easier to understand and modify in the future.
7. Keep the scss files synced with the components. Every time you create a new component, create a corresponding scss file for it and make sure to keep the styles organized and consistent across the extension. Do the same when renaming a file and/or renaming one. This will help to improve the maintainability of the codebase and make it easier to find and modify styles in the future. Consider using a naming convention for the scss files that corresponds to the component names (e.g. `ComponentName.scss` for `ComponentName.tsx`) to make it easier to identify which styles belong to which components.
8. Always keep the tests up to date and ensure that they cover all new features and changes to the codebase. This will help to catch any bugs or issues early on and ensure that the extension remains stable and functional.
9. Since I don't have the best Claude plan, and it keeps running out of tokens: Keep track of what you're doing and what you have done in a separate file (e.g. a TODO list) to avoid losing context and to help you stay organized. This will also help you to keep track of what features have been implemented and what still needs to be done, even if the conversation is interrupted or if you need to take a break.
10. Avoid .then() and use async/await instead for better readability and maintainability of the code. This will help to make the code easier to understand and modify in the future. Using async/await can also help to reduce the amount of nested code and make it easier to handle errors and edge cases. Always try to use async/await whenever possible and avoid using .then() unless there is a specific reason to do so.
11. Use arrow functions instead of regular functions for better readability and maintainability of the code. This will help to make the code easier to understand and modify in the future. Arrow functions can also help to reduce the amount of boilerplate code and make it easier to handle the `this` keyword in JavaScript. Always try to use arrow functions whenever possible and avoid using regular functions unless there is a specific reason to do so.


# TODO list
1. [x] Scroll behavior
2. [x] Select item in job execution history
3. [x] Toast event system
4. [x] Auto-sync tracked projects
5. [x] Create configuration file
6. [x] Replace the info icon with the details dropdown
7. [x] Create method in the service that checks if project has data persisted
8. [x] Fix disable -> enable progress gron project sync
9. [x] Job action buttons
10. [x] Change [project configurations](./src/config.ts) via UI
11. [x] Create README file with screenshots and instructions on how to use the extension
12. [x] Create unit tests
13. [x] Update dependencies and libraries to latest versions
14. [x] Check new circle CI API to see if some of the features can be implemented in a better way (https://circleci.com/docs/api/v2/ and https://circleci.com/docs/api/v1/)
15. [x] The "Include build jobs" should be set per project. Not global. It should default to true. There should be horizontal bar icon in each project listed in the settings. Once you click it, a menu shows up and there should be an option to check "Include build jobs" for that project. This should be persisted. Also, even projects that have no build on the dashboard should be listed there and show the following message: "This project has no build jobs. Enable "No jobs found. Enable "Include build jobs" to show build jobs on the dashboard."
16. [x] Some job titles are too long and the card add "..." at the end. Which is fine. Add the full title on hover using a tooltip.
17. [x] Improve data persistence and caching to reduce API calls and improve performance
    - [x] Consider changing data structure to better fit the needs of the extension and reduce the amount of data stored
    - [x] Consider using indexedDB (deferred: data slimmed in #17, localStorage limits not a concern for now)
18. [x] Setup CI/CD (CircleCI) for project to automate testing and deployment processes
19. [x] Be able to hide/unhide selected jobs
    - The project items should become an accordion on the settings page. When you click on a project, it expands and shows the jobs for that project.
    - Each job has a checkbox next to it. If the checkbox is checked, the job is included in the dashboard. 
    - If the checkbox is unchecked, the job is hidden from the dashboard.
    - This information should be persisted so that when the user comes back to the settings page, they can see which jobs are hidden and which are shown.
    - The "enable/disable build jobs" option should be a shortcut for hiding/showing all build jobs for that project.
    - If the user unchecks "include build jobs", all build jobs for that project are hidden. If the user checks "include build jobs", all build jobs for that project are shown.
    - It should also be possible to hide invididual jobs in the dashboard page. There should be a "hide job" option in the job card menu. If the user clicks on it, the job is hidden from the dashboard and the settings page is updated to reflect that change (the checkbox for that job is unchecked).
20. [x] In the dashboard page, each project should be collapsible.
    - By default, all projects are expanded and show their jobs. If the user clicks on the project name, it collapses the project and hides its jobs.
    - If the user clicks on the project name again, it expands the project and shows its jobs.
    - The collapsed/expanded state of each project should be persisted so that when the user comes back to the dashboard page, they can see which projects are collapsed and which are expanded.
    - There should be a chevron icon next to the project name that indicates whether the project is collapsed or expanded. The chevron should point down when the project is expanded and point right when the project is collapsed.
    - There should be a button on the top of the dashboard (with a fontawesome icon) page that allows the user to expand/collapse all projects at once. If the user clicks on it, all projects are expanded if they were previously collapsed, and all projects are collapsed if they were previously expanded.
21. [x] Move every hard coded style from the components to the CSS files. The components should only have class names and no inline styles. This will make the code cleaner and easier to maintain. It will also make it easier to change the styles in the future without having to modify the components. Reuse the existent classes whenever possible and create new classes when necessary. Avoid using inline styles as much as possible. If you need to use inline styles for some reason, try to minimize it and keep it consistent with the rest of the codebase.
22. [x] Merge every css and scss file into the scss one. Remove the empty ones. This will make the codebase cleaner and easier to maintain. It will also make it easier to find and modify styles in the future. Instead of having styles scattered across multiple files, they will all be in one place, which will make it easier to understand the overall styling of the extension. It will also reduce the number of files in the codebase, which can make it less overwhelming for new contributors. Additionally, it will make it easier to manage dependencies between styles and ensure that styles are applied consistently across the extension.
23. [x] In the settings page. Remove the chevron that expands/collapses the project items. Instead, make the whole project item clickable to expand/collapse the jobs for that project. This will make it easier for the user to expand/collapse the projects and will also make the UI cleaner. The chevron icon is not necessary and takes up space that can be used for other elements. The user can click anywhere on the project item to expand/collapse it, which is more intuitive and user-friendly. Also, instead of "Include build jobs" make 3 different options: select all, unselect all, and select build jobs. This will give the user more flexibility and control over which jobs they want to include in the dashboard. The "select all" option will check all the checkboxes for that project, the "unselect all" option will uncheck all the checkboxes for that project, and the "select build jobs" option will check only the checkboxes for the build jobs for that project. This will make it easier for the user to manage their projects and jobs in the settings page. Also, make the build jobs more identifiable in the settings page by adding a label or an icon next to them. This will make it easier for the user to identify which jobs are build jobs and will also make the UI more visually appealing. The label or icon can be a small badge that says "build" or a small icon that represents a build job (e.g. a hammer or a wrench). This will help the user to quickly identify the build jobs and manage them more efficiently in the settings page.
24. [x] Reorder projects in the settings page and have that reflected in the dashboard page. The order of the projects should be persisted so that when the user comes back to the settings page or the dashboard page, they see the projects in the order they set.
25. [x] In the settings page, add a button to the menu of disabled projects that allows the user to exclude from the list: "Exclude project". Persist that information so that the user doesn't see those projects in the settings page or the dashboard page. This will allow the user to hide projects that they don't want to see or manage in the extension, which can help to declutter the UI and make it easier for the user to focus on the projects that are important to them. Create a button in the Configuration area to "Unexclude all projects". The excluded projects will not be shown in the dashboard page. The user can click on the "exclude project" button in the menu of a disabled project This will give the user more control over which projects they want to manage and see in the extension, and it will also help to keep the UI clean and organized.
26. [ ] The "Unexclude projects" button should be renamed to "Restore excluded projects" and it should have a badge telling the number of excluded projects. Also, the info icon in API token should show a tooltip when hovered. The tooltip should explain the steps to get an API token (including the current link in an anchor tag) and also explain that the token is only stored locally in the user's browser and is not shared with anyone. This will help to improve the user experience and provide clear instructions on how to get an API token, which is necessary for the extension to function properly. The tooltip should be concise and easy to understand, and it should provide all the necessary information for the user to get an API token and use the extension without any confusion or issues.
27. [ ] To avoid a bad UX. Keep the vertical scroll bars always visible in the scrollable area of both pages.
27. [ ] In the dashboard, keep the item enumeration even when there are unselected jobs. For example, if there are 5 jobs and the user unselects job 2 and 4, the dashboard should show the jobs as 1, 3, 5 instead of 1, 2, 3. This will make it easier for the user to keep track of the jobs and their order, even when some jobs are hidden. It will also make the UI more consistent and less confusing for the user. The enumeration should be based on the original order of the jobs, not on the order of the selected jobs. This way, the user can easily identify which jobs are hidden and which are shown based on their original position in the list.
28. [ ] Add a radio button in the dashboard page to switch the jobs between grid and list view. 
    The grid view is the current view where the jobs are displayed in cards.
    The list view is a new view where the jobs are displayed one per line. It's almost the same. The jobs are still cards, but wider (100% of the container) and shorter. The same information and buttons are displayed in the same position. Maximize reuse wherever you can.
    The user should be able to switch between the two views by clicking on the button. The selected view should be persisted so that when the user comes back to the dashboard page, they see the jobs in the view they selected.
29. ~[ ] Be able to merge workflow data (autosync pipelines)~
30. ~[ ] Card placeholders~
31. [x] Job more options:
    1. [x] Compare against previous execution (https://docs.github.com/en/pull-requests/committing-changes-to-your-project/viewing-and-comparing-commits/comparing-commits)
    2. [x] Browse repo at this point: https://github.com/virgs/jsonPlaceholderReplacer/tree/<commit-hash>
